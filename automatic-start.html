<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Automatic Start | OperaWatir</title>
    <link href="look/generic.css" rel="stylesheet" />
    <link href="look/github.css" rel="stylesheet" />
    <script src="scripts/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <div class="ribbon">
      <a href="https://github.com/operasoftware/operawatir"
	 rel="me">Fork me on Github!</a>
    </div>

    <header class="highlight-bright">
      <div class="wrapper">
	<h1><a href="index.html">OperaWatir</a></h1>

	<nav>
	  <ul>
	    <li><a href="index.html">Index</a></li>
	    <li><a href="installation.html">Installation</a></li>
	    <li><a href="tutorial.html">Tutorial</a></li>
	    <li class="selected"><a href="documentation.html">Documentation</a></li>
	    <li><a href="https://github.com/operasoftware/operawatir">Source</a></li>
	  </ul>
	</nav>
      </div>
    </header>

    <section id="content">
      <div class="wrapper">
	<h2>Automatic Start</h2>

	<p>
	  You can configure OperaWatir to automatically start the
	  browser and connect when you run your test script.  This is
	  particularly useful in automated environments where no human
	  interaction is possible.
	</p>

	<h3>Setting up Opera</h3>
	  
	<p>
	  Once Opera is installed, some configuration is needed.
	  Navigate to <a href="opera:config">opera:config</a>.  Enable
	  “Proxy Auto Connect”.  Set “Home URL” to
	  <var>opera:debug</var> and “Startup Type” to <var>2</var>.
	</p>

	<p>
	  If you <em>only</em> want Opera to auto connect and not
	  OperaWatir to start the browser, this is all you have to do.
	</p>

      
	<h3>Environement variables</h3>

	<p>
	  To start Opera automatically when a script is run, you will
	  need to tell OperaWatir where it can find the binary.  This
	  is done with environment variables.
	</p>

	<p>
	  (Note: In version 0.3 you had to set the
	  <var>OPERA_LAUNCHER</var> variable as well.  This is no
	  longer necessary in version 0.3.1 and above.)
	</p>


	<h4 id="gnulinux">GNU/Linux</h4>

	<p>
	  You can set environment variables using the following
	  command:
	</p>

	<pre><code class="prompt"><span class="line">export OPERA_PATH="/path/to/opera"</span></code></pre>

	<p>
	  Conversely you can delete it with <em>unset</em>:
	</p>

	<pre><code class="prompt"><span class="line">unset OPERA_PATH</span></code></pre>

	<p>
	  To see what your variables are set to, you can echo them to
	  the prompt:
	</p>

	<pre><code class="prompt"><span class="line">echo $OPERA_PATH</span></code></pre>

	<p>
	  It's common to set this variable in your
	  <va>~/.profile</var>, <var>~/.bashrc</var> or
	  <var>~/.zshrc</var> file.
	</p>


	<h4 id="windows">Windows</h4>

	<p>
	  To set environment variables on Windows XP, right-click “My
	  Computer”, click “Properties”, find the “Advanced tab” and
	  click the “Environment variables” button.
	</p>

	<p>
	  On Windows 7, you can find these settings under “Control
	  Panel” → “System and Security” → “System” → “Advanced system
	  settings" → “Environment variables”.
	</p>

	<p>
	  Click the "New" button to add a new variable. Add the
	  variable <var>OPERA_PATH</var> with the value
	  <var>C:\Program Files\Opera\opera.exe</var>. If your Opera
	  install is elsewhere, change the value accordingly.  Also,
	  set the variable <var>OPERA_LAUNCHER</var> to
	  <var>C:\jruby-1.5.2\lib\ruby\gems\1.8\gems\operawatir-0.3-java\launchers\launcher-win32-i86pc.exe</var>.
	  If these programs are installed elsewhere on your system,
	  please adjust the variables accordingly.
	</p>

      </div>
    </section>

    <footer>
      <div class="wrapper">
	<p id="logo">
	  <a href="http://opera.com/"><img src="graphics/opera-footer.gif" alt="" /></a>
	</p>

	<p>
	  Copyright © 2011 <a href="http://opera.com/">Opera Software
	  ASA</a>.
	</p>
      </div>
    </footer>
  </body>
</html>
