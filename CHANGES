v0.4.3.pre1  2011-05-24

  [OTHER]

  * Using pessimistic operator to determine rspec version between 2.6.0
    and 2.7.0.  rspec v2.6.0 should now be fixed for JRuby.  (andreastt)

v0.4.2       2011-05-20

  [OTHER]

  * Downgrading dependency rspec to 2.5.0.  rspec 2.6.0 has an timestamp
    format in the gem package that triggers a bug in rubygems.  Since
    JRuby patches rubygems natively, we can't just upgrade rubygems.
    (andreastt)

v0.4.1       2011-05-19

  [ENHANCEMENTS]

  * Upgraded OperaDriver to v0.4.2.  (andreastt)

  [BUG FIXES]

  * OPERA_ARGS detection has now been moved to OperaDriver, removing
    workaround from OperaWatir::Browser.  (andreastt)

v0.4.1.pre7  2011-05-12

  [API CHANGES]

  * Added browser.iframe and browser.iframes to Watir 2 compatibility
    layer.  (andreastt)

  [ENHANCEMENTS]

  * Upgraded OperaDriver to v0.4.2.pre7-7-g261741e-internal.
    (andreastt)

  [BUG FIXES]

  * Workaround for empty preference values sent from core in
    ListPrefs, skipping them as they will terminate Scope if passed
    back to Opera in GetPref or SetPref.  (andreastt)

  [OTHER]

  * Using #first instead of #[0] when querying raw elements array.
    (andreastt)

  * Reduced some code duplication.  (andreastt)

v0.4.1.pre6  2011-05-09

  [API CHANGES]

  * Added Compat::Collection#select.  (andreastt)

  * Added Compat::Collection#selected?.  (andreastt)

  * Added Compat::Window#frame.  (andreastt)

  * Added Compat::Window#show_frames.  (andreastt)

  * Added Compat::Window#switch_to_default.  (andreastt)

  * Added DesktopBrowser#string.  (karie)

  * Added DesktopContainer#quick_find.  (karie)

  * Added DesktopContainer#quick_griditem.  (karie)

  * Added DesktopContainer#quick_gridlayout.  (karie)

  * Added Element#exist? and alias Element#exists? which will ensure
    that querying whether elements exists in Watir 2 compatibility
    mode will work.  (andreastt)

  * New classes QuickFind, QuickGridItem and QuickGridLayout.  (karie)

  * Added QuickTreeItem#collapse_with_click.  (karie)

  * Added QuickTreeItem#load_window_with_double_click.  (karie)

  * Added QuickWidget#has_ui_string?.  (karie)

  * Added QuickWidget#height.  (karie)

  * Added QuickWidget#width.  (karie)

  * Added QuickWidget#x.  (karie)

  * Added QuickWidget#y.  (karie)

  * Added QuickWindow#height.  (karie)

  * Added QuickWindow#width.  (karie)

  * Added QuickWindow#x.  (karie)

  * Added QuickWindow#y.  (karie)

  * Removed Collection#to_s.  (karie)

  * Removed Element#to_s.  (karie)

  * Removed QuickWidget#is_text?.  (karie)

  * Deprecated QuickWidgets#verify_includes_text, making #verify_text
    handle text substitution.  Fixes DSK-329541 and DSK-330462.
    (karie)

  [NEW FEATURES]

  * Added --opera-idle command line option to desktopwatir binary.
    (karie)

  * Added --manual command line option to desktopwatir binary.
    (karie)

  [ENHANCEMENTS]

  * Upgraded OperaDriver to v0.4.2.pre7-g4db1c56-internal.
    (andreastt)

  * Enabling full backtrace (from RSpec) again.

  * OperaDriver.getText() has been removed, replaced by doing
    Window#document.getText() instead.  #document calls root element
    using CSS selectors.  Fixes WTR-338.  (andreastt)

  * Cleaned up some code in Element by simplifying if-blocks.
    (andreastt)

  * OperaWatir Desktop specification suite has been completed.
    (karie, mariap)

  * Updated Mac launcher which now includes the emo patch.
    (andreastt)

  [BUG FIXES]

  * Idle is now disabled by default in OperaDriver, adding
    environmental check and enabling --opera-idle switch properly.
    (andreastt)

  * Added support for accessing method select_list(s) from Watir 2.
    (andreastt)

  * Releasing all parts of an array when modifiers are pressed as
    second argument.  Fixes WTR-339.  (andreastt)

  * QuickSearchField#search_with_index retuns text in search field,
    not address bar.  Fixes DSK-328699.  (karie)

  * Fix in bin/desktopwatir for calling binary with full path to Watir
    script.  Fixes DSK-330007.  (karie)

  * Now using RSpec's :file_or_directories_to_run option instead of
    :files_to_run, which has been deprecated.  (andreastt)

  * #text= is called by compatibility code, but didn't have a check
    for whether element was an INPUT @type="checkbox".  we are now
    toggling check instead of attempting to send keys.  (andreastt)

  * Helper executes RSpec autorun programmatically, disabling this by
    moving it to the end of the file if any of the above abort
    statements in bin/operawatir is called.  (andreastt)

  * Attempted to do #uncheck! on textareas or input elements, fixed by
    calling WebDriver's clear() method instead.  Fixes WTR-331.
    (andreastt)

  * Removed workaround for option --opera-idle.  This has now properly
    been implemented in OperaDriver, and we are as such doing the
    right thing now.  (andreastt)

  * QuickWidgets#toggle_with_click failed if clicking removed the
    element clicked.  Fixes DSK-330329.  (karie)

  * Now handling ampersands in strings got from string_ids.  Fixes
    DSK-319071.  (karie)

  * Construction of buttons by position is now possible.  (karie)

  * Add type checking to retrieval algorithm for widgets.  Fixes
    DSK-320616.  (karie)

  * Never raise UnknownObjectException on lookup, user must be able to
    execute methods like Collection#exist? on empty collection
    according to Watir specification.  (andreastt)

  * #full_backtrace= is broken in RSpec, but andreastt has patched it
     in upstream.  Added temporary workaround for it in
     bin/operawatir.

  * Element#value no longer does check for INPUT, TEXTAREA or SELECT
    fields in Watir, but leaves this to OperaDriver.  (andreastt)

  [OTHER]

  * Added documentation for the Preferences implementation.
    (andreastt)

  * Added documentation for more desktop code.  (karie)

  * Added #visual_hash tests for SVG documents.  (andreastt)

  * Upgraded select_list_spec.rb to latest HEAD from jarib:watirspec.
    (andreastt)

v0.4.1.pre5  2011-03-18

  [BUG FIXES]

  * Upgraded to OperaDriver v0.4.2.pre5-15-gf8e8949 containing an
    updated 64-bit launcher that will work on older versions of libc.
    (andreastt)

v0.4.1.pre4  2011-03-17

  [NEW FEATURES]

  * Imlemented temporary environmental variable for switching OperaIdle
    on and off for SPARTAN.  This will override the --opera-idle option.
    Set the OPERA_IDLE environmental variable to a truthy variable
    (true, "true", 1, "1") to enable.  (andreastt)

  [BUG FIXES]

  * Temporarily passing OPERA_ARGS environmental variable to OperaDriver
    to enable fullscreen testing on SPARTAN.  OPERA_ARGS will in the
    future be detected in OperaDriver.  (andreastt)

  * /lib/operawatir/helper.rb will now autorun RSpec, fixing the
    all-tests-failing issue on SPARTAN.  (andreastt)

v0.4.1.pre3  2011-03-14

  [API CHANGES]

  * window.element (and browser.element if you're running in
    compatibility mode) now works.  Fixes backwards compatibility for
    SPARTAN tests.  Related to WTR-260.  (andreastt)

  * :selector has now been added as a basic type in Watir 2
    compatibility mode (e.g. element(:selector, 'foo')).  This is aliased
    to :css.  Added method Compat::Collection#find_elements_by_selector as
    alias to Collection#find_by_css.  (andreastt)

  * Element#get_hash is now alias to Element#visual_hash for backwards
    compatiblity with WTR-260.  (andreastt)

  * Window#get_hash is now aliased to Window#visual_hash for backwards
    compatibility with WTR-260.  (andreastt)

  * Compat::Browser#quit is no longer needed, removed method.  We no
    longer use Browser#quit! which it was an alias for.  (andreastt)

  * Window#screenshot now returns a Screenshot interface or the absolute
    path to the file depending on whether an argument is given.  This
    provides backwards compatibility, but also allows you to access the
    newly added methods Screenshot#save, …#blank?, …#png and …#md5.
    (andreastt)

  * Removed timeout argument to Window#visual_hash.  We now default to
    50 milliseconds.  (andreastt)

  * Added Window#document which returns the body/document of a page.
    (andreastt)

  [NEW FEATURES]

  * New command-line option --tag (or -t for short) for specifying to
    run only tagged tests.  Adding ~ (tilde) before the tag (e.g. ~slow)
    will exclude given tests.

  * New command-line option --backtrace (or -b for short) for enabling
    full backtraces from RSpec.  As a result, --binary has lost its
    shortcut -b.  (andreastt)

  * Implemented a new screenshot API that exposes ScreenShotReply from
    OperaDriver.  (andreastt)

  [ENHANCEMENTS]

  * Upgraded to OperaDriver v0.4.2.pre5.  (andreastt)

  * Added specifications tests for Desktop part of OperaWatir.  (karie,
    mariap)

  * OperaWatir specification tests for Desktop are now using RSpec
    matchers.  Makes it easier to expect windows to be closed, opened,
    &c.  (karie)

  * --no-opera-idle has been renamed to --opera-idle.  OperaIdle is now
    by default switched off due to instability.  (andreastt)

  * Synced operawatir and desktopwatir binaries.  (andreastt)

  * Updated /spec/watir2/element_spec.rb to HEAD from watirspec.
    (andreastt)

  [BUG FIXES]

  * desktopwatir is no longer writing to STDERR, but to STDOUT.
    (andreastt)

  * Window#get_hash and Element#get_hash methods are now marked as
    deprecated.

  * Resolved failing to activate address field will use the current
    control without any errors.  Fixes DSK-320799.  (karie)

  * Widgets should return widgets listing from active Document Window.
    Fixes DSK-330102.  (karie)

  * Renamed paramter in DesktopBrowser#widgets since it's not
    necessarily the window name the user will be looking for.  (karie)

  * Added more load actions to be handled by load_window_with_action.
    Fixes DSK-320817.  (karie)

  * Failing to activate address field will use the current control
    without any errors.  Focus moved from edit_field to its subclass
    before call to enter text.  Fixes DSK-320799.  (karie)

  * Defaulting to active window when Document Window is specified, fixed
    to only default when active window is actually a Document Window.
    Related to DSK-320786.  (karie)

  * Documentation fixes in Desktop code.  (karie)

  [OTHER]

  * Updated /README.me with the latest version requirements.
  (andreastt)

  * Added /CHANGES (this).  (andreastt)

v0.4.1.pre2  2011-03-08

  [BUG FIXES]

  * Stringifying text before splitting it in Element#text=.  Thanks to
    Hallvord R. M. Steen.  (andreastt)

  * Depending on RSpec v2.4 or above, not v2.5 or less as we did
    previously.  This resolves upgrading OperaWatir if you already have
    an ancient version of RSpec installed (like we did on SPARTAN).
    (andreastt)

v0.4.1.pre1  2011-03-04

  [API CHANGES]

  * Moved deprecated keyboard interaction methods (Window#key,
    Window#key_down, Window#key_up, Window#type) from Window to Browser.
    If you're running operawatir in Watir 2 compatibility mode (which is
    enabled by default), this won't change anything for you.
    (andreastt)

  * Added a new preferences API which is accessible from
    browser.preferences.  Removed Browser#set_preference,
    Browser#get_default_preference and Browser#get_preference.
    (andreastt)

  * Removed Browser#pid.  (wilhelmja)

  * Removed Browser#goto.  It's still available in Browser::Compat#goto,
    which is included by default.  (andreastt)

  * Added DesktopBrowser#get_preference, DesktopBrowser#set_preference
    and DesktopBrowser#get_default_preference.  (karie)

  * Removed Browser#exists? and Browser#connected?.  (andreastt)

  [NEW FEATURES]

  * Support for disabling OperaIdle with --no-opera-idle.  (andreastt)

  * Added option to wait for connection from Opera.  operawatir binary
    now accepts --manual (or -m for short).  This will allow you to go
    to opera:debug and hit connect manually.  (andreastt)

  [ENHANCEMENTS]

  * Updated OperaDriver to v0.4.2.pre2.  (andreastt)

  * Added tests for deprecated method Window#eval_js.  (wilhelmja)

  * Added deprecation notice to Element#compare_hash.  (andreastt)

  * Added specification tests for Window#screenshot,
    Element#triple_click, Element#compare_hash.  (wilhelmja)

  * Added more specification tests for Window#quadruple_click.
    (andreastt)

  * DesktopBrowser is now using guessOperaPath from OperaDriver.
    (karie)

  [BUG FIXES]

  * Fixed passing wrong variable (param instead of args) in
    Browser#opera_action.  This fixes browser.opera_action('foo').
    (wilhelmja)

  * Browser#ua_string now returns the navigator.userAgent value from
    JavaScript.  (wilhelmja)

  * Browser#platform now returns the navigator.platform value from
    JavaScript.  (wilhelmja)

  * Compat::Element#text now supports getting texteditable values from
    input, textarea and select elements.  (andreastt)

  * Requiring stringio as JRuby apparently doesn't by default, fixes
    problem with RSpec formatters.  (andreastt)

  * Colours are now enabled by default, even on Windows.  Installing the
    gem `ansicolor' fixes colour problems on Windows.  (andreastt)

  * --output now writes to a file, was broken when upgrading to RSpec
    v2.5.  (andreastt)

  * --format was not working, fixed.  (andreastt)

  * Now requiring RSpec v2.5, not v2.5.1.  rspec-core is v2.5.1, but the
    main gem, rspec, is only 2.5.  (andreastt)

  * operawatir-launched tests now write to STDOUT instead of STDERR.
    (andreastt)

  * Check that Browser#desktop? actually returns true or false.
    (wilhelmja)

  * Check that Window#visual_hash and Element#visual_hash returns a hash
    in the correct format 8an md5sum preceded by 0x.  (wilhelmja)

  * Added tests for Window#visual_hash and Browser#desktop?.
    (wilhelmja)

  * Misc. test name fixes.  (wilhelmja)

  * Removing Ruby platform dependency.  (andreastt)

  * We need to exit forcibly (I think because of RSpec) when we come to
    the end of the test suite.  (andreastt)

  * Fixed compat problem and changed autostart fix to use empty Opera
    path instead of separate setting.  (karie)

  * Super goto (in DesktopBrowser) disappeared, so don't use it.

  [OTHER]

  * Updated /README.md with the latest version requirements.
    (andreastt)

  * Updated documentation in /README.md.  Also added a new section
    listing the operawatir binary's option list.  (andreastt)

  * Set up framework for OperaWatir-specific specification tests.
    (andreastt)

  * Renamed /spec/legacy_watirspec to /spec/watir2.  (andreastt)

  * Renamed /spec/new_watirspec to /spec/watir3.  (andreastt)

